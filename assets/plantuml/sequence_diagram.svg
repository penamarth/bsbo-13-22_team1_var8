<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="621px" preserveAspectRatio="none" style="width:758px;height:621px;background:#FFFFFF;" version="1.1" viewBox="0 0 758 621" width="758px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="418.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="248.1489" y="112.4297"/><rect fill="#FFFFFF" height="389.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="425.1572" y="141.5625"/><rect fill="#FFFFFF" height="302.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="714.1934" y="228.9609"/><rect fill="none" height="162.7969" style="stroke:#000000;stroke-width:1.5;" width="742.5518" x="10" y="331.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="91" x2="91" y1="81.2969" y2="540.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="252.4736" x2="252.4736" y1="81.2969" y2="540.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="429.8628" x2="429.8628" y1="81.2969" y2="540.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="718.835" x2="718.835" y1="81.2969" y2="540.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.8672" x="20" y="77.9951">&#1050;&#1074;&#1072;&#1088;&#1090;&#1080;&#1088;&#1086;&#1089;&#1098;&#1105;&#1084;&#1097;&#1080;&#1082;</text><ellipse cx="91.9336" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M91.9336,21.5 L91.9336,48.5 M78.9336,29.5 L104.9336,29.5 M91.9336,48.5 L78.9336,63.5 M91.9336,48.5 L104.9336,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.8672" x="20" y="552.2842">&#1050;&#1074;&#1072;&#1088;&#1090;&#1080;&#1088;&#1086;&#1089;&#1098;&#1105;&#1084;&#1097;&#1080;&#1082;</text><ellipse cx="91.9336" cy="564.0859" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M91.9336,572.0859 L91.9336,599.0859 M78.9336,580.0859 L104.9336,580.0859 M91.9336,599.0859 L78.9336,614.0859 M91.9336,599.0859 L104.9336,614.0859 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41.3506" x="232.4736" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27.3506" x="239.4736" y="69.9951">App</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41.3506" x="232.4736" y="539.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27.3506" x="239.4736" y="559.2842">App</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.5889" x="361.8628" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.5889" x="368.8628" y="69.9951">DatabaseAdapter</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.5889" x="361.8628" y="539.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.5889" x="368.8628" y="559.2842">DatabaseAdapter</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46.7168" x="695.835" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.7168" x="702.835" y="69.9951">Chat</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46.7168" x="695.835" y="539.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.7168" x="702.835" y="559.2842">Chat</text><rect fill="#FFFFFF" height="418.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="248.1489" y="112.4297"/><rect fill="#FFFFFF" height="389.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="425.1572" y="141.5625"/><rect fill="#FFFFFF" height="302.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="714.1934" y="228.9609"/><polygon fill="#181818" points="236.1489,108.4297,246.1489,112.4297,236.1489,116.4297,240.1489,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.9336" x2="242.1489" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.9272" x="98.9336" y="107.3638">load()</text><polygon fill="#181818" points="413.1572,137.5625,423.1572,141.5625,413.1572,145.5625,417.1572,141.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="258.1489" x2="419.1572" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.0083" x="265.1489" y="136.4966">get_rent_flat(cur_user)</text><polygon fill="#181818" points="269.1489,166.6953,259.1489,170.6953,269.1489,174.6953,265.1489,170.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="263.1489" x2="424.1572" y1="170.6953" y2="170.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.252" x="275.1489" y="165.6294">flat</text><polygon fill="#181818" points="236.1489,195.8281,246.1489,199.8281,236.1489,203.8281,240.1489,199.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.9336" x2="242.1489" y1="199.8281" y2="199.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.5366" x="98.9336" y="194.7622">open_chat()</text><polygon fill="#181818" points="702.1934,224.9609,712.1934,228.9609,702.1934,232.9609,706.1934,228.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="258.1489" x2="708.1934" y1="228.9609" y2="228.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.4663" x="265.1489" y="223.895">create(cur_user, flat_owner)</text><polygon fill="#181818" points="702.1934,254.0938,712.1934,258.0938,702.1934,262.0938,706.1934,258.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="258.1489" x2="708.1934" y1="258.0938" y2="258.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.6797" x="265.1489" y="253.0278">load_full_history()</text><polygon fill="#181818" points="446.1572,283.2266,436.1572,287.2266,446.1572,291.2266,442.1572,287.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="440.1572" x2="713.1934" y1="287.2266" y2="287.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239.4336" x="452.1572" y="282.1606">get_all_messages(sender, recepient)</text><polygon fill="#181818" points="702.1934,312.3594,712.1934,316.3594,702.1934,320.3594,706.1934,316.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="435.1572" x2="708.1934" y1="316.3594" y2="316.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.1968" x="442.1572" y="311.2935">messages</text><path d="M10,331.3594 L86.624,331.3594 L86.624,338.4922 L76.624,348.4922 L10,348.4922 L10,331.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="162.7969" style="stroke:#000000;stroke-width:1.5;" width="742.5518" x="10" y="331.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="25" y="344.4263">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="200.4814" x="101.624" y="343.5698">[&#1087;&#1086;&#1082;&#1072; &#1085;&#1077; &#1088;&#1072;&#1079;&#1088;&#1077;&#1096;&#1077;&#1085;&#1072; &#1087;&#1088;&#1086;&#1073;&#1083;&#1077;&#1084;&#1072;]</text><polygon fill="#181818" points="236.1489,365.625,246.1489,369.625,236.1489,373.625,240.1489,369.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.9336" x2="242.1489" y1="369.625" y2="369.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2153" x="98.9336" y="364.5591">send_message(text)</text><polygon fill="#181818" points="702.1934,394.7578,712.1934,398.7578,702.1934,402.7578,706.1934,398.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="258.1489" x2="708.1934" y1="398.7578" y2="398.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2153" x="265.1489" y="393.6919">send_message(text)</text><polygon fill="#181818" points="446.1572,423.8906,436.1572,427.8906,446.1572,431.8906,442.1572,427.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="440.1572" x2="713.1934" y1="427.8906" y2="427.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.0361" x="452.1572" y="422.8247">send_message(text, sender, recepient)</text><polygon fill="#181818" points="446.1572,453.0234,436.1572,457.0234,446.1572,461.0234,442.1572,457.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="440.1572" x2="713.1934" y1="457.0234" y2="457.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251.1133" x="452.1572" y="451.9575">get_new_messages(sender, recepient)</text><polygon fill="#181818" points="702.1934,482.1563,712.1934,486.1563,702.1934,490.1563,706.1934,486.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="435.1572" x2="708.1934" y1="486.1563" y2="486.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.1968" x="442.1572" y="481.0903">messages</text><polygon fill="#181818" points="236.1489,518.2891,246.1489,522.2891,236.1489,526.2891,240.1489,522.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.9336" x2="242.1489" y1="522.2891" y2="522.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43.6274" x="98.9336" y="517.2231">close()</text><!--SRC=[fL51JiCm4Bpd5JwcKli1X90g-8Tbd6qRoSIMxL2u5Kx0ZIkl24WHLIdj5zO_OXrH1251aRX4ykxCxCn4IAyjmoTymIgimYskmmftuIOyX4VSXdjSuoP9_jwpoGcR6iEEcD8YIqU9a3w_51xYD8aR0fm9Byw5WsacZ0TBu3buRg7mVAQ4JsLfUUd0VcEtA8tIyQH3AGeCzgWD55mkwEJeuEsKNhIH5kZibvDneylrilZXAe9Rn1YRpqgb-29trESrIJUhtjo2i1VWd9Y3InqKMJndGOB9gP5FTcVM0ojHMXk6UzpX1Yk6xrWpYbtXAtthS8SrZMY-ZrtWCxxHO8lLu9gYgOF5rCELRxVL0UZF_0iyPdsfUpihOFdVpeWqk02fj0FwaHy0]--></g></svg>